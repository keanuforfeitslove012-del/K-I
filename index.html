<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Ivy - Tap If You Remember Us</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Crimson Text', serif;
            overflow: hidden;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            position: relative;
        }

        /* Initial Screen */
        .initial-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            transition: opacity 1s ease-out, visibility 1s;
        }

        .initial-screen.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .tap-button {
            background: transparent;
            border: 3px solid #e94560;
            color: #e94560;
            padding: 30px 60px;
            font-size: 2.5rem;
            font-family: 'Dancing Script', cursive;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(233, 69, 96, 0.3);
            animation: pulse 2s infinite;
        }

        .tap-button:hover {
            background: #e94560;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 50px rgba(233, 69, 96, 0.6);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .initial-text {
            color: #eaeaea;
            font-size: 1.5rem;
            margin-top: 20px;
            opacity: 0.8;
            font-family: 'Dancing Script', cursive;
        }

        /* Main Content */
        .main-content {
            opacity: 0;
            transition: opacity 2s ease-in;
            min-height: 100vh;
            position: relative;
            padding: 20px;
        }

        .main-content.visible {
            opacity: 1;
        }

        /* Floating Elements Container */
        .floating-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .floating-element {
            position: absolute;
            cursor: pointer;
            pointer-events: auto;
            font-size: 2rem;
            animation: float 6s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
            transition: transform 0.3s;
        }

        .floating-element:hover {
            transform: scale(1.3);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(-10px) rotate(-5deg); }
            75% { transform: translateY(-30px) rotate(3deg); }
        }

        /* Note Popup */
        .note-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            z-index: 200;
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            font-family: 'Dancing Script', cursive;
            color: #333;
        }

        .note-popup.active {
            transform: translate(-50%, -50%) scale(1);
        }

        .note-popup h3 {
            color: #e94560;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        .note-popup p {
            font-size: 1.3rem;
            line-height: 1.6;
            color: #555;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: #e94560;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 150;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Clown Box (Secret Message) - CENTERED */
        .clown-box-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 50;
        }

        .clown-box {
            width: 140px;
            height: 140px;
            background: linear-gradient(145deg, #ff6b6b, #ee5a6f);
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(238, 90, 111, 0.4);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .clown-box:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(238, 90, 111, 0.6);
        }

        .clown-face {
            font-size: 3.5rem;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .clown-text {
            color: white;
            font-size: 1rem;
            margin-top: 5px;
            font-weight: bold;
        }

        /* Long Message Modal */
        .long-message-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%);
            padding: 40px;
            border-radius: 30px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 25px 80px rgba(0,0,0,0.4);
            z-index: 300;
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border: 3px solid #ffb6c1;
        }

        .long-message-modal.active {
            transform: translate(-50%, -50%) scale(1);
        }

        .long-message-modal h2 {
            color: #e94560;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .long-message-modal p {
            font-size: 1.2rem;
            line-height: 2;
            color: #444;
            text-align: justify;
            margin-bottom: 15px;
        }

        .signature {
            text-align: right;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #e94560;
            margin-top: 20px;
        }

        /* Volcanoes - Distributed */
        .volcano {
            position: fixed;
            font-size: 4rem;
            cursor: pointer;
            transition: transform 0.3s;
            filter: drop-shadow(0 0 20px rgba(255, 100, 100, 0.5));
            z-index: 40;
        }

        .volcano:hover {
            transform: scale(1.2);
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: scale(1.2) rotate(0deg); }
            25% { transform: scale(1.2) rotate(-5deg); }
            75% { transform: scale(1.2) rotate(5deg); }
        }

        .volcano-1 { top: 10%; left: 5%; }
        .volcano-2 { top: 10%; right: 5%; }
        .volcano-3 { bottom: 10%; left: 5%; }
        .volcano-4 { bottom: 10%; right: 5%; }

        .eruption {
            position: fixed;
            pointer-events: none;
            z-index: 35;
        }

        .love-emoji {
            position: absolute;
            font-size: 2rem;
            animation: erupt 3s ease-out forwards;
        }

        @keyframes erupt {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1.5);
                opacity: 0;
            }
        }

        /* Title */
        .main-title {
            text-align: center;
            color: #eaeaea;
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            margin-top: 30px;
            text-shadow: 0 0 30px rgba(233, 69, 96, 0.5);
            animation: glow 3s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 30px rgba(233, 69, 96, 0.5); }
            50% { text-shadow: 0 0 50px rgba(233, 69, 96, 0.8), 0 0 70px rgba(233, 69, 96, 0.4); }
        }

        .subtitle {
            text-align: center;
            color: #a0a0a0;
            font-size: 1.3rem;
            margin-top: 10px;
            font-style: italic;
        }

        /* Flirty Text */
        .flirty-text-container {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 20;
        }

        .flirty-text {
            position: absolute;
            font-family: 'Dancing Script', cursive;
            color: rgba(233, 69, 96, 0.6);
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(233, 69, 96, 0.3);
            animation: fadeFloat 4s ease-in-out infinite;
        }

        @keyframes fadeFloat {
            0%, 100% { opacity: 0.3; transform: translateY(0); }
            50% { opacity: 0.8; transform: translateY(-10px); }
        }

        /* Music Control */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 400;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
            font-family: 'Crimson Text', serif;
        }

        .music-control:hover {
            background: rgba(233, 69, 96, 0.3);
            border-color: #e94560;
        }

        .music-control.playing {
            animation: musicPulse 2s infinite;
        }

        @keyframes musicPulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(233, 69, 96, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(233, 69, 96, 0); }
        }

        /* Sparkles */
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            animation: sparkle 3s linear infinite;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* Hint text */
        .hint-text {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255,255,255,0.4);
            font-size: 0.9rem;
            z-index: 30;
        }
    </style>
</head>
<body>

    <!-- Initial Screen -->
    <div class="initial-screen" id="initialScreen">
        <button class="tap-button" onclick="enterSite()">Tap if you remember us</button>
        <p class="initial-text">K + I</p>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <h1 class="main-title">For Ivy</h1>
        <p class="subtitle">Some connections never fade...</p>

        <!-- Flirty Text -->
        <div class="flirty-text-container" id="flirtyContainer"></div>

        <!-- Music Control -->
        <div class="music-control" id="musicBtn" onclick="toggleMusic()">
            ðŸŽµ Play Music
        </div>

        <!-- Floating Elements Container -->
        <div class="floating-container" id="floatingContainer"></div>

        <!-- Overlay for popups -->
        <div class="overlay" id="overlay" onclick="closeAllPopups()"></div>

        <!-- Note Popup -->
        <div class="note-popup" id="notePopup">
            <button class="close-btn" onclick="closeNote()">Ã—</button>
            <h3 id="noteTitle">Memory</h3>
            <p id="noteContent">Content here...</p>
        </div>

        <!-- Clown Box - CENTERED -->
        <div class="clown-box-container">
            <div class="clown-box" onclick="openLongMessage()">
                <div class="clown-face">ðŸ¤¡</div>
                <div class="clown-text">Open Me</div>
            </div>
        </div>

        <!-- Long Message Modal -->
        <div class="long-message-modal" id="longMessageModal">
            <button class="close-btn" onclick="closeLongMessage()" style="font-size: 2rem; top: 20px; right: 25px;">Ã—</button>
            <h2>Dear Ivy,</h2>
            <p>
                There are moments in life when words fail to capture the weight of what we feel. This is one of those moments, but I'll try anyway.
            </p>
            <p>
                I think about the conversations we used to haveâ€”the way time seemed to stop when we talked, how the world outside faded into background noise. There was a rhythm to us, a dance of words and silences that felt like home.
            </p>
            <p>
                Then life happened. We stopped talking. Days turned into weeks, weeks into months. But here's the thing about sparksâ€”they don't die easily. They smolder, hidden beneath the ash of everyday life, waiting for a breath of air to reignite.
            </p>
            <p>
                I feel that spark every time I think of you. In the quiet moments, in the loud ones, in the spaces between heartbeats. It's not about the past, nor is it purely about the future. It's about this invisible thread that still connects us, fragile but unbroken.
            </p>
            <p>
                Maybe we've changed. Maybe the world has moved us in different directions. But some connections are written in the stars, Ivy. Ours feels like one of them.
            </p>
            <p>
                I don't know where we go from here. I don't have a map or a plan. All I have is this truth: you mattered, you matter, and you will always matter. The spark is real. The connection is real. And sometimes, that's enough to light the way forward.
            </p>
            <p class="signature">With everything unsaid and everything felt,<br>K</p>
        </div>

        <!-- Four Volcanoes - Distributed in corners -->
        <div class="volcano volcano-1" onclick="eruptVolcano(this)" title="Click to erupt love!">ðŸŒ‹</div>
        <div class="volcano volcano-2" onclick="eruptVolcano(this)" title="Click to erupt love!">ðŸŒ‹</div>
        <div class="volcano volcano-3" onclick="eruptVolcano(this)" title="Click to erupt love!">ðŸŒ‹</div>
        <div class="volcano volcano-4" onclick="eruptVolcano(this)" title="Click to erupt love!">ðŸŒ‹</div>

        <p class="hint-text">Click the volcanoes for a surprise ðŸ’•</p>
    </div>

    <!-- Audio Element -->
    <audio id="bgMusic" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Notes data
        const notes = [
            { emoji: 'ðŸ¦‹', title: 'The First Hello', content: 'Do you remember how it all began? That first conversation that felt like coming home...' },
            { emoji: 'ðŸ’–', title: 'Late Nights', content: 'Those 2 AM talks about everything and nothing. The world was asleep, but we were alive.' },
            { emoji: 'ðŸ¦‹', title: 'Your Laugh', content: 'I can still hear it. The kind of laugh that makes everyone around you smile without knowing why.' },
            { emoji: 'ðŸ’–', title: 'The Silence', content: 'Even when we stopped talking, the space you occupied in my thoughts never emptied.' },
            { emoji: 'ðŸ¦‹', title: 'What If', content: 'Two words that haunt me sometimes. But maybe "what is" is more important than "what if".' },
            { emoji: 'ðŸ’–', title: 'The Spark', content: 'They say embers remain long after the fire dies. Our spark never stopped glowing, Ivy.' },
            { emoji: 'ðŸ¦‹', title: 'Random Thoughts', content: 'I see something beautiful and think of you. I hear a song and think of you. You are everywhere.' },
            { emoji: 'ðŸ’–', title: 'Courage', content: 'It took courage to make this. It takes courage to feel. You are worth every ounce of bravery.' }
        ];

        // Flirty texts
        const flirtyTexts = [
            "Ivy, you're the reason I believe in magic âœ¨",
            "Is it hot in here or is it just you? ðŸ”¥",
            "You've been running through my mind all day... and night ðŸ’­",
            "I must be a snowflake, because I've fallen for you â„ï¸",
            "Are you a camera? Because every time I look at you, I smile ðŸ“¸",
            "If you were a vegetable, you'd be a cute-cumber ðŸ¥’"
        ];

        let musicPlaying = false;

        function enterSite() {
            document.getElementById('initialScreen').classList.add('hidden');
            document.getElementById('mainContent').classList.add('visible');
            createFloatingElements();
            createFlirtyTexts();
            createSparkles();
            
            // Auto-play music attempt
            setTimeout(() => {
                toggleMusic();
            }, 1000);
        }

        function createFloatingElements() {
            const container = document.getElementById('floatingContainer');
            const isMobile = window.innerWidth < 768;
            const count = isMobile ? 6 : 12;
            
            for (let i = 0; i < count; i++) {
                const el = document.createElement('div');
                const note = notes[i % notes.length];
                el.className = 'floating-element';
                el.textContent = note.emoji;
                el.style.left = Math.random() * 90 + 5 + '%';
                el.style.top = Math.random() * 70 + 15 + '%';
                el.style.animationDelay = Math.random() * 6 + 's';
                el.style.animationDuration = (4 + Math.random() * 4) + 's';
                
                el.onclick = (e) => {
                    e.stopPropagation();
                    showNote(note);
                };
                
                container.appendChild(el);
            }
        }

        function createFlirtyTexts() {
            const container = document.getElementById('flirtyContainer');
            const positions = [
                { top: '15%', left: '10%' },
                { top: '25%', right: '10%' },
                { top: '65%', left: '5%' },
                { top: '75%', right: '5%' },
                { top: '40%', left: '3%' },
                { top: '55%', right: '3%' }
            ];

            flirtyTexts.forEach((text, index) => {
             
